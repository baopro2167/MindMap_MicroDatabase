{
  "openapi": "3.0.1",
  "info": {
    "title": "MindMap_MicroProject",
    "version": "1.0"
  },
  "paths": {
    "/api/Branch/{id}": {
      "get": {
        "tags": [
          "Branch"
        ],
        "summary": "Lấy  branch theo Branch id",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": [
          "Branch"
        ],
        "summary": "cap nhat brand",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateBranchRequestDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateBranchRequestDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateBranchRequestDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": [
          "Branch"
        ],
        "summary": "xoa brand",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Branch/mindmap/{mindMapId}": {
      "get": {
        "tags": [
          "Branch"
        ],
        "summary": "Lấy danh sách  branch theo mindMapId id , có phân trang",
        "parameters": [
          {
            "name": "mindMapId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "pageNumber",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 3
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Branch/mindmap/{mindMapId}/all": {
      "get": {
        "tags": [
          "Branch"
        ],
        "summary": "Lấy toàn bộ brand theo mindMapId id",
        "parameters": [
          {
            "name": "mindMapId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Branch": {
      "post": {
        "tags": [
          "Branch"
        ],
        "summary": "tao brand",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddBranchRequestDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/AddBranchRequestDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/AddBranchRequestDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/MindMap/{id}": {
      "get": {
        "tags": [
          "MindMap"
        ],
        "summary": "tim  MindMap theo mindmapid",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": [
          "MindMap"
        ],
        "summary": "cap nhat  MindMap",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMindMapRequestDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMindMapRequestDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMindMapRequestDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": [
          "MindMap"
        ],
        "summary": "xoa  MindMap",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/MindMap": {
      "post": {
        "tags": [
          "MindMap"
        ],
        "summary": "tao  MindMap",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddMindMapRequestDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/AddMindMapRequestDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/AddMindMapRequestDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "get": {
        "tags": [
          "MindMap"
        ],
        "summary": "Lấy danh sách  mindmap có phân trang",
        "parameters": [
          {
            "name": "pageNumber",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 3
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/MindMap/all": {
      "get": {
        "tags": [
          "MindMap"
        ],
        "summary": "Lấy  toan bo mindmap",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/MindMapReport/{reportId}": {
      "get": {
        "tags": [
          "MindMapReport"
        ],
        "summary": "tim report theo reportId",
        "parameters": [
          {
            "name": "reportId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": [
          "MindMapReport"
        ],
        "summary": "cap nhat report",
        "parameters": [
          {
            "name": "reportId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMindMapReportRequestDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMindMapReportRequestDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMindMapReportRequestDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": [
          "MindMapReport"
        ],
        "summary": "xóa report",
        "parameters": [
          {
            "name": "reportId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/MindMapReport/mindmap/{mindMapId}": {
      "get": {
        "tags": [
          "MindMapReport"
        ],
        "summary": "tim  toan bo report theo mindMapId co phan trang",
        "parameters": [
          {
            "name": "mindMapId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "pageNumber",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/MindMapReport/mindmap/{mindMapId}/range": {
      "get": {
        "tags": [
          "MindMapReport"
        ],
        "summary": "tim  toan bo report, theo ngay thang , theo mindMapId co phan trang",
        "parameters": [
          {
            "name": "mindMapId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "from",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "to",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "pageNumber",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/MindMapReport/mindmap/{mindMapId}/all": {
      "get": {
        "tags": [
          "MindMapReport"
        ],
        "summary": "tim  toan bo report theo mindMapId ko phan trang",
        "parameters": [
          {
            "name": "mindMapId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/MindMapReport": {
      "post": {
        "tags": [
          "MindMapReport"
        ],
        "summary": "tao report",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddMindMapReportRequestDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/AddMindMapReportRequestDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/AddMindMapReportRequestDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Node/{id}": {
      "get": {
        "tags": [
          "Node"
        ],
        "summary": "tim  Node theo node id",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": [
          "Node"
        ],
        "summary": "cap nhat  Node",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateNodeRequestDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateNodeRequestDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateNodeRequestDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": [
          "Node"
        ],
        "summary": "xoa  Node",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Node/mindmap/{mindMapId}": {
      "get": {
        "tags": [
          "Node"
        ],
        "summary": "getall  Node theo mindMapId id co phan trang",
        "parameters": [
          {
            "name": "mindMapId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "pageNumber",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Node/mindmap/{mindMapId}/all": {
      "get": {
        "tags": [
          "Node"
        ],
        "summary": "getall Node theo mindMapId id",
        "parameters": [
          {
            "name": "mindMapId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Node": {
      "post": {
        "tags": [
          "Node"
        ],
        "summary": "tao  Node",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddNodeRequestDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/AddNodeRequestDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/AddNodeRequestDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AddBranchRequestDTO": {
        "required": [
          "branchType",
          "mindMapId",
          "sourceNodeId",
          "targetNodeId"
        ],
        "type": "object",
        "properties": {
          "mindMapId": {
            "maximum": 2147483647,
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          },
          "sourceNodeId": {
            "maximum": 2147483647,
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          },
          "targetNodeId": {
            "maximum": 2147483647,
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          },
          "branchType": {
            "$ref": "#/components/schemas/BranchType"
          },
          "label": {
            "maxLength": 500,
            "type": "string",
            "nullable": true
          },
          "style": {
            "maxLength": 100,
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "AddMindMapReportRequestDTO": {
        "required": [
          "membershipId",
          "mindMapId",
          "reportDate"
        ],
        "type": "object",
        "properties": {
          "mindMapId": {
            "maximum": 2147483647,
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          },
          "membershipId": {
            "maximum": 2147483647,
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          },
          "reportDate": {
            "type": "string",
            "format": "date-time"
          },
          "reportContent": {
            "maxLength": 4000,
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "AddMindMapRequestDTO": {
        "required": [
          "createdBy",
          "lessonId"
        ],
        "type": "object",
        "properties": {
          "createdBy": {
            "maximum": 2147483647,
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          },
          "lessonId": {
            "maximum": 2147483647,
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          },
          "description": {
            "maxLength": 500,
            "minLength": 0,
            "type": "string",
            "nullable": true
          },
          "isPublished": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "AddNodeRequestDTO": {
        "required": [
          "mindMapId",
          "nodeType"
        ],
        "type": "object",
        "properties": {
          "mindMapId": {
            "maximum": 2147483647,
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          },
          "parentNodeId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "content": {
            "maxLength": 2000,
            "type": "string",
            "nullable": true
          },
          "nodeType": {
            "$ref": "#/components/schemas/NodeType"
          },
          "positionX": {
            "maximum": 100000,
            "minimum": -100000,
            "type": "number",
            "format": "float"
          },
          "positionY": {
            "maximum": 100000,
            "minimum": -100000,
            "type": "number",
            "format": "float"
          },
          "color": {
            "maxLength": 50,
            "pattern": "^#(?:[0-9a-fA-F]{3}){1,2}$",
            "type": "string",
            "nullable": true
          },
          "shape": {
            "maxLength": 50,
            "pattern": "^(rectangle|circle|diamond)$",
            "type": "string",
            "nullable": true
          },
          "orderIndex": {
            "maximum": 2147483647,
            "minimum": 0,
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "BranchType": {
        "enum": [
          0,
          1,
          2
        ],
        "type": "integer",
        "format": "int32"
      },
      "NodeType": {
        "enum": [
          0,
          1,
          2
        ],
        "type": "integer",
        "format": "int32"
      },
      "UpdateBranchRequestDTO": {
        "type": "object",
        "properties": {
          "sourceNodeId": {
            "maximum": 2147483647,
            "minimum": 1,
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "targetNodeId": {
            "maximum": 2147483647,
            "minimum": 1,
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "branchType": {
            "$ref": "#/components/schemas/BranchType"
          },
          "label": {
            "maxLength": 500,
            "type": "string",
            "nullable": true
          },
          "style": {
            "maxLength": 100,
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "UpdateMindMapReportRequestDTO": {
        "type": "object",
        "properties": {
          "membershipId": {
            "maximum": 2147483647,
            "minimum": 1,
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "reportDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "reportContent": {
            "maxLength": 4000,
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "UpdateMindMapRequestDTO": {
        "type": "object",
        "properties": {
          "description": {
            "type": "string",
            "nullable": true
          },
          "isPublished": {
            "type": "boolean"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "UpdateNodeRequestDTO": {
        "type": "object",
        "properties": {
          "parentNodeId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "content": {
            "maxLength": 2000,
            "type": "string",
            "nullable": true
          },
          "nodeType": {
            "$ref": "#/components/schemas/NodeType"
          },
          "positionX": {
            "maximum": 100000,
            "minimum": -100000,
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "positionY": {
            "maximum": 100000,
            "minimum": -100000,
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "color": {
            "type": "string",
            "nullable": true
          },
          "shape": {
            "maxLength": 50,
            "pattern": "^(rectangle|circle|diamond)$",
            "type": "string",
            "nullable": true
          },
          "orderIndex": {
            "maximum": 2147483647,
            "minimum": 0,
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        },
        "additionalProperties": false
      }
    }
  }
}